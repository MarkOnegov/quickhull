/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var n={698:(n,t,e)=>{e.r(t),e.d(t,{ArgumentOutOfRangeError:()=>lt,AsyncSubject:()=>rn,BehaviorSubject:()=>nn,ConnectableObservable:()=>U,EMPTY:()=>Pn,EmptyError:()=>ut,NEVER:()=>Zt,NotFoundError:()=>at,Notification:()=>rt,NotificationKind:()=>Dn,ObjectUnsubscribedError:()=>Z,Observable:()=>W,ReplaySubject:()=>en,Scheduler:()=>pn,SequenceError:()=>ft,Subject:()=>J,Subscriber:()=>k,Subscription:()=>p,TimeoutError:()=>dt,UnsubscriptionError:()=>d,VirtualAction:()=>kn,VirtualTimeScheduler:()=>In,animationFrame:()=>Tn,animationFrameScheduler:()=>An,animationFrames:()=>Y,asap:()=>mn,asapScheduler:()=>yn,async:()=>xn,asyncScheduler:()=>wn,audit:()=>he,auditTime:()=>de,bindCallback:()=>xt,bindNodeCallback:()=>gt,buffer:()=>ve,bufferCount:()=>pe,bufferTime:()=>be,bufferToggle:()=>ye,bufferWhen:()=>me,catchError:()=>we,combineAll:()=>Te,combineLatest:()=>kt,combineLatestAll:()=>Ae,combineLatestWith:()=>ke,concat:()=>Ft,concatAll:()=>Nt,concatMap:()=>Pe,concatMapTo:()=>Oe,concatWith:()=>Ce,config:()=>w,connect:()=>Ne,connectable:()=>Wt,count:()=>Fe,debounce:()=>qe,debounceTime:()=>Le,defaultIfEmpty:()=>We,defer:()=>qt,delay:()=>Be,delayWhen:()=>Ve,dematerialize:()=>Ue,distinct:()=>$e,distinctUntilChanged:()=>He,distinctUntilKeyChanged:()=>Ge,elementAt:()=>Ze,empty:()=>On,endWith:()=>Je,every:()=>Qe,exhaust:()=>tr,exhaustAll:()=>nr,exhaustMap:()=>er,expand:()=>rr,filter:()=>oe,finalize:()=>ir,find:()=>or,findIndex:()=>cr,first:()=>sr,firstValueFrom:()=>st,flatMap:()=>br,forkJoin:()=>Rt,from:()=>nt,fromEvent:()=>Bt,fromEventPattern:()=>$t,generate:()=>Ht,groupBy:()=>lr,identity:()=>F,ignoreElements:()=>ze,iif:()=>Yt,interval:()=>Kt,isEmpty:()=>fr,isObservable:()=>ot,last:()=>dr,lastValueFrom:()=>ct,map:()=>bt,mapTo:()=>De,materialize:()=>vr,max:()=>pr,merge:()=>Xt,mergeAll:()=>Mt,mergeMap:()=>Ct,mergeMapTo:()=>yr,mergeScan:()=>mr,mergeWith:()=>xr,min:()=>gr,multicast:()=>_r,never:()=>Jt,noop:()=>_,observable:()=>N,observeOn:()=>Kn,of:()=>tt,onErrorResumeNext:()=>ee,pairs:()=>re,pairwise:()=>Er,partition:()=>ue,pipe:()=>q,pluck:()=>Sr,publish:()=>Ar,publishBehavior:()=>Tr,publishLast:()=>Ir,publishReplay:()=>kr,queue:()=>En,queueScheduler:()=>_n,race:()=>ce,raceWith:()=>Pr,range:()=>le,reduce:()=>ge,refCount:()=>B,repeat:()=>Or,repeatWhen:()=>jr,retry:()=>Cr,retryWhen:()=>Mr,sample:()=>Nr,sampleTime:()=>Fr,scan:()=>qr,scheduled:()=>Qn,sequenceEqual:()=>Lr,share:()=>Wr,shareReplay:()=>zr,single:()=>Dr,skip:()=>Vr,skipLast:()=>Br,skipUntil:()=>Ur,skipWhile:()=>$r,startWith:()=>Hr,subscribeOn:()=>Xn,switchAll:()=>Gr,switchMap:()=>Yr,switchMapTo:()=>Kr,switchScan:()=>Xr,take:()=>Re,takeLast:()=>hr,takeUntil:()=>Zr,takeWhile:()=>Jr,tap:()=>Qr,throttle:()=>ti,throttleTime:()=>ei,throwError:()=>et,throwIfEmpty:()=>Ke,timeInterval:()=>ri,timeout:()=>vt,timeoutWith:()=>oi,timer:()=>Gt,timestamp:()=>ui,toArray:()=>Ee,using:()=>ae,window:()=>ci,windowCount:()=>si,windowTime:()=>li,windowToggle:()=>ai,windowWhen:()=>fi,withLatestFrom:()=>hi,zip:()=>fe,zipAll:()=>di,zipWith:()=>pi});var r=function(n,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])},r(n,t)};function i(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}r(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}function o(n,t){var e,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;u;)try{if(e=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,r=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!((i=(i=u.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=t.call(n,u)}catch(n){o=[6,n],r=0}finally{e=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function u(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,i,o=e.call(n),u=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)u.push(r.value)}catch(n){i={error:n}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(i)throw i.error}}return u}function s(n,t,e){if(e||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return n.concat(r||Array.prototype.slice.call(t))}function l(n){return this instanceof l?(this.v=n,this):new l(n)}function a(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),o=[];return r={},u("next"),u("throw"),u("return"),r[Symbol.asyncIterator]=function(){return this},r;function u(n){i[n]&&(r[n]=function(t){return new Promise((function(e,r){o.push([n,t,e,r])>1||c(n,t)}))})}function c(n,t){try{(e=i[n](t)).value instanceof l?Promise.resolve(e.value.v).then(s,a):f(o[0][2],e)}catch(n){f(o[0][3],n)}var e}function s(n){c("next",n)}function a(n){c("throw",n)}function f(n,t){n(t),o.shift(),o.length&&c(o[0][0],o[0][1])}}function f(n){return"function"==typeof n}function h(n){var t=n((function(n){Error.call(n),n.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Object.create,Object.create;var d=h((function(n){return function(t){n(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(n,t){return t+1+") "+n.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function v(n,t){if(n){var e=n.indexOf(t);0<=e&&n.splice(e,1)}}var p=function(){function n(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._teardowns=null}return n.prototype.unsubscribe=function(){var n,t,e,r,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var l=u(o),a=l.next();!a.done;a=l.next())a.value.remove(this)}catch(t){n={error:t}}finally{try{a&&!a.done&&(t=l.return)&&t.call(l)}finally{if(n)throw n.error}}else o.remove(this);var h=this.initialTeardown;if(f(h))try{h()}catch(n){i=n instanceof d?n.errors:[n]}var v=this._teardowns;if(v){this._teardowns=null;try{for(var p=u(v),b=p.next();!b.done;b=p.next()){var y=b.value;try{m(y)}catch(n){i=null!=i?i:[],n instanceof d?i=s(s([],c(i)),c(n.errors)):i.push(n)}}}catch(n){e={error:n}}finally{try{b&&!b.done&&(r=p.return)&&r.call(p)}finally{if(e)throw e.error}}}if(i)throw new d(i)}},n.prototype.add=function(t){var e;if(t&&t!==this)if(this.closed)m(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(e=this._teardowns)&&void 0!==e?e:[]).push(t)}},n.prototype._hasParent=function(n){var t=this._parentage;return t===n||Array.isArray(t)&&t.includes(n)},n.prototype._addParent=function(n){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n},n.prototype._removeParent=function(n){var t=this._parentage;t===n?this._parentage=null:Array.isArray(t)&&v(t,n)},n.prototype.remove=function(t){var e=this._teardowns;e&&v(e,t),t instanceof n&&t._removeParent(this)},n.EMPTY=function(){var t=new n;return t.closed=!0,t}(),n}(),b=p.EMPTY;function y(n){return n instanceof p||n&&"closed"in n&&f(n.remove)&&f(n.add)&&f(n.unsubscribe)}function m(n){f(n)?n():n.unsubscribe()}var w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},x={setTimeout:function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=x.delegate;return((null==e?void 0:e.setTimeout)||setTimeout).apply(void 0,s([],c(n)))},clearTimeout:function(n){var t=x.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function g(n){x.setTimeout((function(){var t=w.onUnhandledError;if(!t)throw n;t(n)}))}function _(){}var E=S("C",void 0,void 0);function S(n,t,e){return{kind:n,value:t,error:e}}var A=null;function T(n){if(w.useDeprecatedSynchronousErrorHandling){var t=!A;if(t&&(A={errorThrown:!1,error:null}),n(),t){var e=A,r=e.errorThrown,i=e.error;if(A=null,r)throw i}}else n()}function I(n){w.useDeprecatedSynchronousErrorHandling&&A&&(A.errorThrown=!0,A.error=n)}var k=function(n){function t(t){var e=n.call(this)||this;return e.isStopped=!1,t?(e.destination=t,y(t)&&t.add(e)):e.destination=M,e}return i(t,n),t.create=function(n,t,e){return new P(n,t,e)},t.prototype.next=function(n){this.isStopped?C(function(n){return S("N",n,void 0)}(n),this):this._next(n)},t.prototype.error=function(n){this.isStopped?C(S("E",void 0,n),this):(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped?C(E,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(p),P=function(n){function t(t,e,r){var i,o=n.call(this)||this;if(f(t))i=t;else if(t){var u;i=t.next,e=t.error,r=t.complete,o&&w.useDeprecatedNextContext?(u=Object.create(t)).unsubscribe=function(){return o.unsubscribe()}:u=t,i=null==i?void 0:i.bind(u),e=null==e?void 0:e.bind(u),r=null==r?void 0:r.bind(u)}return o.destination={next:i?O(i):_,error:O(null!=e?e:j),complete:r?O(r):_},o}return i(t,n),t}(k);function O(n,t){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{n.apply(void 0,s([],c(t)))}catch(n){w.useDeprecatedSynchronousErrorHandling?I(n):g(n)}}}function j(n){throw n}function C(n,t){var e=w.onStoppedNotification;e&&x.setTimeout((function(){return e(n,t)}))}var M={closed:!0,next:_,error:j,complete:_},N="function"==typeof Symbol&&Symbol.observable||"@@observable";function F(n){return n}function q(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return L(n)}function L(n){return 0===n.length?F:1===n.length?n[0]:function(t){return n.reduce((function(n,t){return t(n)}),t)}}var W=function(){function n(n){n&&(this._subscribe=n)}return n.prototype.lift=function(t){var e=new n;return e.source=this,e.operator=t,e},n.prototype.subscribe=function(n,t,e){var r,i=this,o=(r=n)&&r instanceof k||function(n){return n&&f(n.next)&&f(n.error)&&f(n.complete)}(r)&&y(r)?n:new P(n,t,e);return T((function(){var n=i,t=n.operator,e=n.source;o.add(t?t.call(o,e):e?i._subscribe(o):i._trySubscribe(o))})),o},n.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(t){n.error(t)}},n.prototype.forEach=function(n,t){var e=this;return new(t=R(t))((function(t,r){var i=new P({next:function(t){try{n(t)}catch(n){r(n),i.unsubscribe()}},error:r,complete:t});e.subscribe(i)}))},n.prototype._subscribe=function(n){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(n)},n.prototype[N]=function(){return this},n.prototype.pipe=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return L(n)(this)},n.prototype.toPromise=function(n){var t=this;return new(n=R(n))((function(n,e){var r;t.subscribe((function(n){return r=n}),(function(n){return e(n)}),(function(){return n(r)}))}))},n.create=function(t){return new n(t)},n}();function R(n){var t;return null!==(t=null!=n?n:w.Promise)&&void 0!==t?t:Promise}function z(n){return f(null==n?void 0:n.lift)}function D(n){return function(t){if(z(t))return t.lift((function(t){try{return n(t,this)}catch(n){this.error(n)}}));throw new TypeError("Unable to lift unknown Observable type")}}var V=function(n){function t(t,e,r,i,o){var u=n.call(this,t)||this;return u.onFinalize=o,u._next=e?function(n){try{e(n)}catch(n){t.error(n)}}:n.prototype._next,u._error=i?function(n){try{i(n)}catch(n){t.error(n)}finally{this.unsubscribe()}}:n.prototype._error,u._complete=r?function(){try{r()}catch(n){t.error(n)}finally{this.unsubscribe()}}:n.prototype._complete,u}return i(t,n),t.prototype.unsubscribe=function(){var t,e=this.closed;n.prototype.unsubscribe.call(this),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))},t}(k);function B(){return D((function(n,t){var e=null;n._refCount++;var r=new V(t,void 0,void 0,void 0,(function(){if(!n||n._refCount<=0||0<--n._refCount)e=null;else{var r=n._connection,i=e;e=null,!r||i&&r!==i||r.unsubscribe(),t.unsubscribe()}}));n.subscribe(r),r.closed||(e=n.connect())}))}var U=function(n){function t(t,e){var r=n.call(this)||this;return r.source=t,r.subjectFactory=e,r._subject=null,r._refCount=0,r._connection=null,z(t)&&(r.lift=t.lift),r}return i(t,n),t.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},t.prototype.getSubject=function(){var n=this._subject;return n&&!n.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var n=this._connection;this._subject=this._connection=null,null==n||n.unsubscribe()},t.prototype.connect=function(){var n=this,t=this._connection;if(!t){t=this._connection=new p;var e=this.getSubject();t.add(this.source.subscribe(new V(e,void 0,(function(){n._teardown(),e.complete()}),(function(t){n._teardown(),e.error(t)}),(function(){return n._teardown()})))),t.closed&&(this._connection=null,t=p.EMPTY)}return t},t.prototype.refCount=function(){return B()(this)},t}(W),$={now:function(){return($.delegate||performance).now()},delegate:void 0},H={schedule:function(n){var t=requestAnimationFrame,e=cancelAnimationFrame,r=H.delegate;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);var i=t((function(t){e=void 0,n(t)}));return new p((function(){return null==e?void 0:e(i)}))},requestAnimationFrame:function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=H.delegate;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame).apply(void 0,s([],c(n)))},cancelAnimationFrame:function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=H.delegate;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,s([],c(n)))},delegate:void 0};function Y(n){return n?G(n):X}function G(n){var t=H.schedule;return new W((function(e){var r=new p,i=n||$,o=i.now(),u=function(c){var s=i.now();e.next({timestamp:n?s:c,elapsed:s-o}),e.closed||r.add(t(u))};return r.add(t(u)),r}))}var K,X=G(),Z=h((function(n){return function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),J=function(n){function t(){var t=n.call(this)||this;return t.closed=!1,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return i(t,n),t.prototype.lift=function(n){var t=new Q(this,this);return t.operator=n,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new Z},t.prototype.next=function(n){var t=this;T((function(){var e,r;if(t._throwIfClosed(),!t.isStopped){var i=t.observers.slice();try{for(var o=u(i),c=o.next();!c.done;c=o.next())c.value.next(n)}catch(n){e={error:n}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}}}))},t.prototype.error=function(n){var t=this;T((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=n;for(var e=t.observers;e.length;)e.shift().error(n)}}))},t.prototype.complete=function(){var n=this;T((function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var t=n.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),n.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var t=this,e=t.hasError,r=t.isStopped,i=t.observers;return e||r?b:(i.push(n),new p((function(){return v(i,n)})))},t.prototype._checkFinalizedStatuses=function(n){var t=this,e=t.hasError,r=t.thrownError,i=t.isStopped;e?n.error(r):i&&n.complete()},t.prototype.asObservable=function(){var n=new W;return n.source=this,n},t.create=function(n,t){return new Q(n,t)},t}(W),Q=function(n){function t(t,e){var r=n.call(this)||this;return r.destination=t,r.source=e,r}return i(t,n),t.prototype.next=function(n){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===e||e.call(t,n)},t.prototype.error=function(n){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===e||e.call(t,n)},t.prototype.complete=function(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)},t.prototype._subscribe=function(n){var t,e;return null!==(e=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==e?e:b},t}(J),nn=function(n){function t(t){var e=n.call(this)||this;return e._value=t,e}return i(t,n),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var e=n.prototype._subscribe.call(this,t);return!e.closed&&t.next(this._value),e},t.prototype.getValue=function(){var n=this,t=n.hasError,e=n.thrownError,r=n._value;if(t)throw e;return this._throwIfClosed(),r},t.prototype.next=function(t){n.prototype.next.call(this,this._value=t)},t}(J),tn={now:function(){return(tn.delegate||Date).now()},delegate:void 0},en=function(n){function t(t,e,r){void 0===t&&(t=1/0),void 0===e&&(e=1/0),void 0===r&&(r=tn);var i=n.call(this)||this;return i._bufferSize=t,i._windowTime=e,i._timestampProvider=r,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=e===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,e),i}return i(t,n),t.prototype.next=function(t){var e=this,r=e.isStopped,i=e._buffer,o=e._infiniteTimeWindow,u=e._timestampProvider,c=e._windowTime;r||(i.push(t),!o&&i.push(u.now()+c)),this._trimBuffer(),n.prototype.next.call(this,t)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(n),e=this._infiniteTimeWindow,r=this._buffer.slice(),i=0;i<r.length&&!n.closed;i+=e?1:2)n.next(r[i]);return this._checkFinalizedStatuses(n),t},t.prototype._trimBuffer=function(){var n=this,t=n._bufferSize,e=n._timestampProvider,r=n._buffer,i=n._infiniteTimeWindow,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){for(var u=e.now(),c=0,s=1;s<r.length&&r[s]<=u;s+=2)c=s;c&&r.splice(0,c+1)}},t}(J),rn=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t._value=null,t._hasValue=!1,t._isComplete=!1,t}return i(t,n),t.prototype._checkFinalizedStatuses=function(n){var t=this,e=t.hasError,r=t._hasValue,i=t._value,o=t.thrownError,u=t.isStopped,c=t._isComplete;e?n.error(o):(u||c)&&(r&&n.next(i),n.complete())},t.prototype.next=function(n){this.isStopped||(this._value=n,this._hasValue=!0)},t.prototype.complete=function(){var t=this,e=t._hasValue,r=t._value;t._isComplete||(this._isComplete=!0,e&&n.prototype.next.call(this,r),n.prototype.complete.call(this))},t}(J),on=function(n){function t(t,e){return n.call(this)||this}return i(t,n),t.prototype.schedule=function(n,t){return void 0===t&&(t=0),this},t}(p),un={setInterval:function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=un.delegate;return((null==e?void 0:e.setInterval)||setInterval).apply(void 0,s([],c(n)))},clearInterval:function(n){var t=un.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0},cn=function(n){function t(t,e){var r=n.call(this,t,e)||this;return r.scheduler=t,r.work=e,r.pending=!1,r}return i(t,n),t.prototype.schedule=function(n,t){if(void 0===t&&(t=0),this.closed)return this;this.state=n;var e=this.id,r=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(r,e,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(n,t,e){return void 0===e&&(e=0),un.setInterval(n.flush.bind(n,this),e)},t.prototype.recycleAsyncId=function(n,t,e){if(void 0===e&&(e=0),null!=e&&this.delay===e&&!1===this.pending)return t;un.clearInterval(t)},t.prototype.execute=function(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var e=this._execute(n,t);if(e)return e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,t){var e,r=!1;try{this.work(n)}catch(n){r=!0,e=n||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),e},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,e=this.scheduler,r=e.actions;this.work=this.state=this.scheduler=null,this.pending=!1,v(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,n.prototype.unsubscribe.call(this)}},t}(on),sn=1,ln={};function an(n){return n in ln&&(delete ln[n],!0)}var fn=function(n){var t=sn++;return ln[t]=!0,K||(K=Promise.resolve()),K.then((function(){return an(t)&&n()})),t},hn=function(n){an(n)},dn={setImmediate:function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=dn.delegate;return((null==e?void 0:e.setImmediate)||fn).apply(void 0,s([],c(n)))},clearImmediate:function(n){var t=dn.delegate;return((null==t?void 0:t.clearImmediate)||hn)(n)},delegate:void 0},vn=function(n){function t(t,e){var r=n.call(this,t,e)||this;return r.scheduler=t,r.work=e,r}return i(t,n),t.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),null!==r&&r>0?n.prototype.requestAsyncId.call(this,t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=dn.setImmediate(t.flush.bind(t,void 0))))},t.prototype.recycleAsyncId=function(t,e,r){if(void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0)return n.prototype.recycleAsyncId.call(this,t,e,r);t.actions.some((function(n){return n.id===e}))||(dn.clearImmediate(e),t._scheduled=void 0)},t}(cn),pn=function(){function n(t,e){void 0===e&&(e=n.now),this.schedulerActionCtor=t,this.now=e}return n.prototype.schedule=function(n,t,e){return void 0===t&&(t=0),new this.schedulerActionCtor(this,n).schedule(e,t)},n.now=tn.now,n}(),bn=function(n){function t(t,e){void 0===e&&(e=pn.now);var r=n.call(this,t,e)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return i(t,n),t.prototype.flush=function(n){var t=this.actions;if(this._active)t.push(n);else{var e;this._active=!0;do{if(e=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,e){for(;n=t.shift();)n.unsubscribe();throw e}}},t}(pn),yn=new(function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return i(t,n),t.prototype.flush=function(n){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var e,r=this.actions;n=n||r.shift();do{if(e=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===t&&r.shift());if(this._active=!1,e){for(;(n=r[0])&&n.id===t&&r.shift();)n.unsubscribe();throw e}},t}(bn))(vn),mn=yn,wn=new bn(cn),xn=wn,gn=function(n){function t(t,e){var r=n.call(this,t,e)||this;return r.scheduler=t,r.work=e,r}return i(t,n),t.prototype.schedule=function(t,e){return void 0===e&&(e=0),e>0?n.prototype.schedule.call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,e){return e>0||this.closed?n.prototype.execute.call(this,t,e):this._execute(t,e)},t.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0?n.prototype.requestAsyncId.call(this,t,e,r):t.flush(this)},t}(cn),_n=new(function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return i(t,n),t}(bn))(gn),En=_n,Sn=function(n){function t(t,e){var r=n.call(this,t,e)||this;return r.scheduler=t,r.work=e,r}return i(t,n),t.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),null!==r&&r>0?n.prototype.requestAsyncId.call(this,t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=H.requestAnimationFrame((function(){return t.flush(void 0)}))))},t.prototype.recycleAsyncId=function(t,e,r){if(void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0)return n.prototype.recycleAsyncId.call(this,t,e,r);t.actions.some((function(n){return n.id===e}))||(H.cancelAnimationFrame(e),t._scheduled=void 0)},t}(cn),An=new(function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return i(t,n),t.prototype.flush=function(n){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var e,r=this.actions;n=n||r.shift();do{if(e=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===t&&r.shift());if(this._active=!1,e){for(;(n=r[0])&&n.id===t&&r.shift();)n.unsubscribe();throw e}},t}(bn))(Sn),Tn=An,In=function(n){function t(t,e){void 0===t&&(t=kn),void 0===e&&(e=1/0);var r=n.call(this,t,(function(){return r.frame}))||this;return r.maxFrames=e,r.frame=0,r.index=-1,r}return i(t,n),t.prototype.flush=function(){for(var n,t,e=this.actions,r=this.maxFrames;(t=e[0])&&t.delay<=r&&(e.shift(),this.frame=t.delay,!(n=t.execute(t.state,t.delay))););if(n){for(;t=e.shift();)t.unsubscribe();throw n}},t.frameTimeFactor=10,t}(bn),kn=function(n){function t(t,e,r){void 0===r&&(r=t.index+=1);var i=n.call(this,t,e)||this;return i.scheduler=t,i.work=e,i.index=r,i.active=!0,i.index=t.index=r,i}return i(t,n),t.prototype.schedule=function(e,r){if(void 0===r&&(r=0),Number.isFinite(r)){if(!this.id)return n.prototype.schedule.call(this,e,r);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(e,r)}return p.EMPTY},t.prototype.requestAsyncId=function(n,e,r){void 0===r&&(r=0),this.delay=n.frame+r;var i=n.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(n,t,e){void 0===e&&(e=0)},t.prototype._execute=function(t,e){if(!0===this.active)return n.prototype._execute.call(this,t,e)},t.sortActions=function(n,t){return n.delay===t.delay?n.index===t.index?0:n.index>t.index?1:-1:n.delay>t.delay?1:-1},t}(cn),Pn=new W((function(n){return n.complete()}));function On(n){return n?function(n){return new W((function(t){return n.schedule((function(){return t.complete()}))}))}(n):Pn}function jn(n){return n&&f(n.schedule)}function Cn(n){return n[n.length-1]}function Mn(n){return f(Cn(n))?n.pop():void 0}function Nn(n){return jn(Cn(n))?n.pop():void 0}function Fn(n,t){return"number"==typeof Cn(n)?n.pop():t}var qn=function(n){return n&&"number"==typeof n.length&&"function"!=typeof n};function Ln(n){return f(null==n?void 0:n.then)}function Wn(n){return f(n[N])}function Rn(n){return Symbol.asyncIterator&&f(null==n?void 0:n[Symbol.asyncIterator])}function zn(n){return new TypeError("You provided "+(null!==n&&"object"==typeof n?"an invalid object":"'"+n+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var Dn,Vn="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Bn(n){return f(null==n?void 0:n[Vn])}function Un(n){return a(this,arguments,(function(){var t,e,r;return o(this,(function(i){switch(i.label){case 0:t=n.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,l(t.read())];case 3:return e=i.sent(),r=e.value,e.done?[4,l(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,l(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function $n(n){return f(null==n?void 0:n.getReader)}function Hn(n){if(n instanceof W)return n;if(null!=n){if(Wn(n))return i=n,new W((function(n){var t=i[N]();if(f(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(qn(n))return r=n,new W((function(n){for(var t=0;t<r.length&&!n.closed;t++)n.next(r[t]);n.complete()}));if(Ln(n))return e=n,new W((function(n){e.then((function(t){n.closed||(n.next(t),n.complete())}),(function(t){return n.error(t)})).then(null,g)}));if(Rn(n))return Yn(n);if(Bn(n))return t=n,new W((function(n){var e,r;try{for(var i=u(t),o=i.next();!o.done;o=i.next()){var c=o.value;if(n.next(c),n.closed)return}}catch(n){e={error:n}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}n.complete()}));if($n(n))return Yn(Un(n))}var t,e,r,i;throw zn(n)}function Yn(n){return new W((function(t){(function(n,t){var e,r,i,c,s,l,a,f;return s=this,l=void 0,f=function(){var s,l;return o(this,(function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),e=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=u(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(e){t[e]=n[e]&&function(t){return new Promise((function(r,i){!function(n,t,e,r){Promise.resolve(r).then((function(t){n({value:t,done:e})}),t)}(r,i,(t=n[e](t)).done,t.value)}))}}}(n),o.label=1;case 1:return[4,e.next()];case 2:if((r=o.sent()).done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];o.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=o.sent(),i={error:l},[3,11];case 6:return o.trys.push([6,,9,10]),r&&!r.done&&(c=e.return)?[4,c.call(e)]:[3,8];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))},new((a=void 0)||(a=Promise))((function(n,t){function e(n){try{i(f.next(n))}catch(n){t(n)}}function r(n){try{i(f.throw(n))}catch(n){t(n)}}function i(t){var i;t.done?n(t.value):(i=t.value,i instanceof a?i:new a((function(n){n(i)}))).then(e,r)}i((f=f.apply(s,l||[])).next())}))})(n,t).catch((function(n){return t.error(n)}))}))}function Gn(n,t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var o=t.schedule((function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()}),r);if(n.add(o),!i)return o}function Kn(n,t){return void 0===t&&(t=0),D((function(e,r){e.subscribe(new V(r,(function(e){return Gn(r,n,(function(){return r.next(e)}),t)}),(function(){return Gn(r,n,(function(){return r.complete()}),t)}),(function(e){return Gn(r,n,(function(){return r.error(e)}),t)})))}))}function Xn(n,t){return void 0===t&&(t=0),D((function(e,r){r.add(n.schedule((function(){return e.subscribe(r)}),t))}))}function Zn(n,t){return new W((function(e){var r;return Gn(e,t,(function(){r=n[Vn](),Gn(e,t,(function(){var n,t,i;try{t=(n=r.next()).value,i=n.done}catch(n){return void e.error(n)}i?e.complete():e.next(t)}),0,!0)})),function(){return f(null==r?void 0:r.return)&&r.return()}}))}function Jn(n,t){if(!n)throw new Error("Iterable cannot be null");return new W((function(e){Gn(e,t,(function(){var r=n[Symbol.asyncIterator]();Gn(e,t,(function(){r.next().then((function(n){n.done?e.complete():e.next(n.value)}))}),0,!0)}))}))}function Qn(n,t){if(null!=n){if(Wn(n))return function(n,t){return Hn(n).pipe(Xn(t),Kn(t))}(n,t);if(qn(n))return function(n,t){return new W((function(e){var r=0;return t.schedule((function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())}))}))}(n,t);if(Ln(n))return function(n,t){return Hn(n).pipe(Xn(t),Kn(t))}(n,t);if(Rn(n))return Jn(n,t);if(Bn(n))return Zn(n,t);if($n(n))return function(n,t){return Jn(Un(n),t)}(n,t)}throw zn(n)}function nt(n,t){return t?Qn(n,t):Hn(n)}function tt(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=Nn(n);return nt(n,e)}function et(n,t){var e=f(n)?n:function(){return n},r=function(n){return n.error(e())};return new W(t?function(n){return t.schedule(r,0,n)}:r)}!function(n){n.NEXT="N",n.ERROR="E",n.COMPLETE="C"}(Dn||(Dn={}));var rt=function(){function n(n,t,e){this.kind=n,this.value=t,this.error=e,this.hasValue="N"===n}return n.prototype.observe=function(n){return it(this,n)},n.prototype.do=function(n,t,e){var r=this,i=r.kind,o=r.value,u=r.error;return"N"===i?null==n?void 0:n(o):"E"===i?null==t?void 0:t(u):null==e?void 0:e()},n.prototype.accept=function(n,t,e){var r;return f(null===(r=n)||void 0===r?void 0:r.next)?this.observe(n):this.do(n,t,e)},n.prototype.toObservable=function(){var n=this,t=n.kind,e=n.value,r=n.error,i="N"===t?tt(e):"E"===t?et((function(){return r})):"C"===t?Pn:0;if(!i)throw new TypeError("Unexpected notification kind "+t);return i},n.createNext=function(t){return new n("N",t)},n.createError=function(t){return new n("E",void 0,t)},n.createComplete=function(){return n.completeNotification},n.completeNotification=new n("C"),n}();function it(n,t){var e,r,i,o=n,u=o.kind,c=o.value,s=o.error;if("string"!=typeof u)throw new TypeError('Invalid notification, missing "kind"');"N"===u?null===(e=t.next)||void 0===e||e.call(t,c):"E"===u?null===(r=t.error)||void 0===r||r.call(t,s):null===(i=t.complete)||void 0===i||i.call(t)}function ot(n){return!!n&&(n instanceof W||f(n.lift)&&f(n.subscribe))}var ut=h((function(n){return function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}}));function ct(n,t){var e="object"==typeof t;return new Promise((function(r,i){var o,u=!1;n.subscribe({next:function(n){o=n,u=!0},error:i,complete:function(){u?r(o):e?r(t.defaultValue):i(new ut)}})}))}function st(n,t){var e="object"==typeof t;return new Promise((function(r,i){var o=new P({next:function(n){r(n),o.unsubscribe()},error:i,complete:function(){e?r(t.defaultValue):i(new ut)}});n.subscribe(o)}))}var lt=h((function(n){return function(){n(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})),at=h((function(n){return function(t){n(this),this.name="NotFoundError",this.message=t}})),ft=h((function(n){return function(t){n(this),this.name="SequenceError",this.message=t}}));function ht(n){return n instanceof Date&&!isNaN(n)}var dt=h((function(n){return function(t){void 0===t&&(t=null),n(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}}));function vt(n,t){var e=ht(n)?{first:n}:"number"==typeof n?{each:n}:n,r=e.first,i=e.each,o=e.with,u=void 0===o?pt:o,c=e.scheduler,s=void 0===c?null!=t?t:wn:c,l=e.meta,a=void 0===l?null:l;if(null==r&&null==i)throw new TypeError("No timeout provided.");return D((function(n,t){var e,o,c=null,l=0,f=function(n){o=Gn(t,s,(function(){try{e.unsubscribe(),Hn(u({meta:a,lastValue:c,seen:l})).subscribe(t)}catch(n){t.error(n)}}),n)};e=n.subscribe(new V(t,(function(n){null==o||o.unsubscribe(),l++,t.next(c=n),i>0&&f(i)}),void 0,void 0,(function(){(null==o?void 0:o.closed)||null==o||o.unsubscribe(),c=null}))),f(null!=r?"number"==typeof r?r:+r-s.now():i)}))}function pt(n){throw new dt(n)}function bt(n,t){return D((function(e,r){var i=0;e.subscribe(new V(r,(function(e){r.next(n.call(t,e,i++))})))}))}var yt=Array.isArray;function mt(n){return bt((function(t){return function(n,t){return yt(t)?n.apply(void 0,s([],c(t))):n(t)}(n,t)}))}function wt(n,t,e,r){if(e){if(!jn(e))return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return wt(n,t,r).apply(this,i).pipe(mt(e))};r=e}return r?function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return wt(n,t).apply(this,e).pipe(Xn(r),Kn(r))}:function(){for(var e=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=new rn,u=!0;return new W((function(i){var l=o.subscribe(i);if(u){u=!1;var a=!1,f=!1;t.apply(e,s(s([],c(r)),[function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(n){var r=t.shift();if(null!=r)return void o.error(r)}o.next(1<t.length?t:t[0]),f=!0,a&&o.complete()}])),f&&o.complete(),a=!0}return l}))}}function xt(n,t,e){return wt(!1,n,t,e)}function gt(n,t,e){return wt(!0,n,t,e)}var _t=Array.isArray,Et=Object.getPrototypeOf,St=Object.prototype,At=Object.keys;function Tt(n){if(1===n.length){var t=n[0];if(_t(t))return{args:t,keys:null};if((r=t)&&"object"==typeof r&&Et(r)===St){var e=At(t);return{args:e.map((function(n){return t[n]})),keys:e}}}var r;return{args:n,keys:null}}function It(n,t){return n.reduce((function(n,e,r){return n[e]=t[r],n}),{})}function kt(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=Nn(n),r=Mn(n),i=Tt(n),o=i.args,u=i.keys;if(0===o.length)return nt([],e);var c=new W(Pt(o,e,u?function(n){return It(u,n)}:F));return r?c.pipe(mt(r)):c}function Pt(n,t,e){return void 0===e&&(e=F),function(r){Ot(t,(function(){for(var i=n.length,o=new Array(i),u=i,c=i,s=function(i){Ot(t,(function(){var s=nt(n[i],t),l=!1;s.subscribe(new V(r,(function(n){o[i]=n,l||(l=!0,c--),c||r.next(e(o.slice()))}),(function(){--u||r.complete()})))}),r)},l=0;l<i;l++)s(l)}),r)}}function Ot(n,t,e){n?Gn(e,n,t):t()}function jt(n,t,e,r,i,o,u,c){var s=[],l=0,a=0,f=!1,h=function(){!f||s.length||l||t.complete()},d=function(n){return l<r?v(n):s.push(n)},v=function(n){o&&t.next(n),l++;var c=!1;Hn(e(n,a++)).subscribe(new V(t,(function(n){null==i||i(n),o?d(n):t.next(n)}),(function(){c=!0}),void 0,(function(){if(c)try{l--;for(var n=function(){var n=s.shift();u?Gn(t,u,(function(){return v(n)})):v(n)};s.length&&l<r;)n();h()}catch(n){t.error(n)}})))};return n.subscribe(new V(t,d,(function(){f=!0,h()}))),function(){null==c||c()}}function Ct(n,t,e){return void 0===e&&(e=1/0),f(t)?Ct((function(e,r){return bt((function(n,i){return t(e,n,r,i)}))(Hn(n(e,r)))}),e):("number"==typeof t&&(e=t),D((function(t,r){return jt(t,r,n,e)})))}function Mt(n){return void 0===n&&(n=1/0),Ct(F,n)}function Nt(){return Mt(1)}function Ft(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return Nt()(nt(n,Nn(n)))}function qt(n){return new W((function(t){Hn(n()).subscribe(t)}))}var Lt={connector:function(){return new J},resetOnDisconnect:!0};function Wt(n,t){void 0===t&&(t=Lt);var e=null,r=t.connector,i=t.resetOnDisconnect,o=void 0===i||i,u=r(),c=new W((function(n){return u.subscribe(n)}));return c.connect=function(){return e&&!e.closed||(e=qt((function(){return n})).subscribe(u),o&&e.add((function(){return u=r()}))),e},c}function Rt(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=Mn(n),r=Tt(n),i=r.args,o=r.keys,u=new W((function(n){var t=i.length;if(t)for(var e=new Array(t),r=t,u=t,c=function(t){var c=!1;Hn(i[t]).subscribe(new V(n,(function(n){c||(c=!0,u--),e[t]=n}),(function(){return r--}),void 0,(function(){r&&c||(u||n.next(o?It(o,e):e),n.complete())})))},s=0;s<t;s++)c(s);else n.complete()}));return e?u.pipe(mt(e)):u}var zt=["addListener","removeListener"],Dt=["addEventListener","removeEventListener"],Vt=["on","off"];function Bt(n,t,e,r){if(f(e)&&(r=e,e=void 0),r)return Bt(n,t,e).pipe(mt(r));var i=c(function(n){return f(n.addEventListener)&&f(n.removeEventListener)}(n)?Dt.map((function(r){return function(i){return n[r](t,i,e)}})):function(n){return f(n.addListener)&&f(n.removeListener)}(n)?zt.map(Ut(n,t)):function(n){return f(n.on)&&f(n.off)}(n)?Vt.map(Ut(n,t)):[],2),o=i[0],u=i[1];if(!o&&qn(n))return Ct((function(n){return Bt(n,t,e)}))(Hn(n));if(!o)throw new TypeError("Invalid event target");return new W((function(n){var t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.next(1<t.length?t:t[0])};return o(t),function(){return u(t)}}))}function Ut(n,t){return function(e){return function(r){return n[e](t,r)}}}function $t(n,t,e){return e?$t(n,t).pipe(mt(e)):new W((function(e){var r=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return e.next(1===n.length?n[0]:n)},i=n(r);return f(t)?function(){return t(r,i)}:void 0}))}function Ht(n,t,e,r,i){var u,c,s,l;function a(){var n;return o(this,(function(r){switch(r.label){case 0:n=l,r.label=1;case 1:return t&&!t(n)?[3,4]:[4,s(n)];case 2:r.sent(),r.label=3;case 3:return n=e(n),[3,1];case 4:return[2]}}))}return 1===arguments.length?(l=(u=n).initialState,t=u.condition,e=u.iterate,c=u.resultSelector,s=void 0===c?F:c,i=u.scheduler):(l=n,!r||jn(r)?(s=F,i=r):s=r),qt(i?function(){return Zn(a(),i)}:a)}function Yt(n,t,e){return qt((function(){return n()?t:e}))}function Gt(n,t,e){void 0===n&&(n=0),void 0===e&&(e=xn);var r=-1;return null!=t&&(jn(t)?e=t:r=t),new W((function(t){var i=ht(n)?+n-e.now():n;i<0&&(i=0);var o=0;return e.schedule((function(){t.closed||(t.next(o++),0<=r?this.schedule(void 0,r):t.complete())}),i)}))}function Kt(n,t){return void 0===n&&(n=0),void 0===t&&(t=wn),n<0&&(n=0),Gt(n,n,t)}function Xt(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=Nn(n),r=Fn(n,1/0),i=n;return i.length?1===i.length?Hn(i[0]):Mt(r)(nt(i,e)):Pn}var Zt=new W(_);function Jt(){return Zt}var Qt=Array.isArray;function ne(n){return 1===n.length&&Qt(n[0])?n[0]:n}function te(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=ne(n);return D((function(n,t){var r=s([n],c(e)),i=function(){if(!t.closed)if(r.length>0){var n=void 0;try{n=Hn(r.shift())}catch(n){return void i()}var e=new V(t,void 0,_,_);t.add(n.subscribe(e)),e.add(i)}else t.complete()};i()}))}function ee(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return te(ne(n))(Pn)}function re(n,t){return nt(Object.entries(n),t)}function ie(n,t){return function(e,r){return!n.call(t,e,r)}}function oe(n,t){return D((function(e,r){var i=0;e.subscribe(new V(r,(function(e){return n.call(t,e,i++)&&r.next(e)})))}))}function ue(n,t,e){return[oe(t,e)(Hn(n)),oe(ie(t,e))(Hn(n))]}function ce(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return 1===(n=ne(n)).length?Hn(n[0]):new W(se(n))}function se(n){return function(t){for(var e=[],r=function(r){e.push(Hn(n[r]).subscribe(new V(t,(function(n){if(e){for(var i=0;i<e.length;i++)i!==r&&e[i].unsubscribe();e=null}t.next(n)}))))},i=0;e&&!t.closed&&i<n.length;i++)r(i)}}function le(n,t,e){if(null==t&&(t=n,n=0),t<=0)return Pn;var r=t+n;return new W(e?function(t){var i=n;return e.schedule((function(){i<r?(t.next(i++),this.schedule()):t.complete()}))}:function(t){for(var e=n;e<r&&!t.closed;)t.next(e++);t.complete()})}function ae(n,t){return new W((function(e){var r=n(),i=t(r);return(i?Hn(i):Pn).subscribe(e),function(){r&&r.unsubscribe()}}))}function fe(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=Mn(n),r=ne(n);return r.length?new W((function(n){var t=r.map((function(){return[]})),i=r.map((function(){return!1}));n.add((function(){t=i=null}));for(var o=function(o){Hn(r[o]).subscribe(new V(n,(function(r){if(t[o].push(r),t.every((function(n){return n.length}))){var u=t.map((function(n){return n.shift()}));n.next(e?e.apply(void 0,s([],c(u))):u),t.some((function(n,t){return!n.length&&i[t]}))&&n.complete()}}),(function(){i[o]=!0,!t[o].length&&n.complete()})))},u=0;!n.closed&&u<r.length;u++)o(u);return function(){t=i=null}})):Pn}function he(n){return D((function(t,e){var r=!1,i=null,o=null,u=!1,c=function(){if(null==o||o.unsubscribe(),o=null,r){r=!1;var n=i;i=null,e.next(n)}u&&e.complete()},s=function(){o=null,u&&e.complete()};t.subscribe(new V(e,(function(t){r=!0,i=t,o||Hn(n(t)).subscribe(o=new V(e,c,s))}),(function(){u=!0,(!r||!o||o.closed)&&e.complete()})))}))}function de(n,t){return void 0===t&&(t=xn),he((function(){return Gt(n,t)}))}function ve(n){return D((function(t,e){var r=[];return t.subscribe(new V(e,(function(n){return r.push(n)}),(function(){e.next(r),e.complete()}))),n.subscribe(new V(e,(function(){var n=r;r=[],e.next(n)}),_)),function(){r=null}}))}function pe(n,t){return void 0===t&&(t=null),t=null!=t?t:n,D((function(e,r){var i=[],o=0;e.subscribe(new V(r,(function(e){var c,s,l,a,f=null;o++%t==0&&i.push([]);try{for(var h=u(i),d=h.next();!d.done;d=h.next())(y=d.value).push(e),n<=y.length&&(f=null!=f?f:[]).push(y)}catch(n){c={error:n}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(c)throw c.error}}if(f)try{for(var p=u(f),b=p.next();!b.done;b=p.next()){var y=b.value;v(i,y),r.next(y)}}catch(n){l={error:n}}finally{try{b&&!b.done&&(a=p.return)&&a.call(p)}finally{if(l)throw l.error}}}),(function(){var n,t;try{for(var e=u(i),o=e.next();!o.done;o=e.next()){var c=o.value;r.next(c)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(t=e.return)&&t.call(e)}finally{if(n)throw n.error}}r.complete()}),void 0,(function(){i=null})))}))}function be(n){for(var t,e,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=null!==(t=Nn(r))&&void 0!==t?t:wn,c=null!==(e=r[0])&&void 0!==e?e:null,s=r[1]||1/0;return D((function(t,e){var r=[],i=!1,l=function(n){var t=n.buffer;n.subs.unsubscribe(),v(r,n),e.next(t),i&&a()},a=function(){if(r){var t=new p;e.add(t);var i={buffer:[],subs:t};r.push(i),Gn(t,o,(function(){return l(i)}),n)}};null!==c&&c>=0?Gn(e,o,a,c,!0):i=!0,a();var f=new V(e,(function(n){var t,e,i=r.slice();try{for(var o=u(i),c=o.next();!c.done;c=o.next()){var a=c.value,f=a.buffer;f.push(n),s<=f.length&&l(a)}}catch(n){t={error:n}}finally{try{c&&!c.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}}),(function(){for(;null==r?void 0:r.length;)e.next(r.shift().buffer);null==f||f.unsubscribe(),e.complete(),e.unsubscribe()}),void 0,(function(){return r=null}));t.subscribe(f)}))}function ye(n,t){return D((function(e,r){var i=[];Hn(n).subscribe(new V(r,(function(n){var e=[];i.push(e);var o=new p;o.add(Hn(t(n)).subscribe(new V(r,(function(){v(i,e),r.next(e),o.unsubscribe()}),_)))}),_)),e.subscribe(new V(r,(function(n){var t,e;try{for(var r=u(i),o=r.next();!o.done;o=r.next())o.value.push(n)}catch(n){t={error:n}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}}),(function(){for(;i.length>0;)r.next(i.shift());r.complete()})))}))}function me(n){return D((function(t,e){var r=null,i=null,o=function(){null==i||i.unsubscribe();var t=r;r=[],t&&e.next(t),Hn(n()).subscribe(i=new V(e,o,_))};o(),t.subscribe(new V(e,(function(n){return null==r?void 0:r.push(n)}),(function(){r&&e.next(r),e.complete()}),void 0,(function(){return r=i=null})))}))}function we(n){return D((function(t,e){var r,i=null,o=!1;i=t.subscribe(new V(e,void 0,void 0,(function(u){r=Hn(n(u,we(n)(t))),i?(i.unsubscribe(),i=null,r.subscribe(e)):o=!0}))),o&&(i.unsubscribe(),i=null,r.subscribe(e))}))}function xe(n,t,e,r,i){return function(o,u){var c=e,s=t,l=0;o.subscribe(new V(u,(function(t){var e=l++;s=c?n(s,t,e):(c=!0,t),r&&u.next(s)}),i&&function(){c&&u.next(s),u.complete()}))}}function ge(n,t){return D(xe(n,t,arguments.length>=2,!1,!0))}var _e=function(n,t){return n.push(t),n};function Ee(){return D((function(n,t){ge(_e,[])(n).subscribe(t)}))}function Se(n,t){return q(Ee(),Ct((function(t){return n(t)})),t?mt(t):F)}function Ae(n){return Se(kt,n)}var Te=Ae;function Ie(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=Mn(n);return e?q(Ie.apply(void 0,s([],c(n))),mt(e)):D((function(t,e){Pt(s([t],c(ne(n))))(e)}))}function ke(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return Ie.apply(void 0,s([],c(n)))}function Pe(n,t){return f(t)?Ct(n,t,1):Ct(n,1)}function Oe(n,t){return f(t)?Pe((function(){return n}),t):Pe((function(){return n}))}function je(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=Nn(n);return D((function(t,r){Nt()(nt(s([t],c(n)),e)).subscribe(r)}))}function Ce(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return je.apply(void 0,s([],c(n)))}var Me={connector:function(){return new J}};function Ne(n,t){void 0===t&&(t=Me);var e=t.connector;return D((function(t,r){var i,o=e();nt(n((i=o,new W((function(n){return i.subscribe(n)}))))).subscribe(r),r.add(t.subscribe(o))}))}function Fe(n){return ge((function(t,e,r){return!n||n(e,r)?t+1:t}),0)}function qe(n){return D((function(t,e){var r=!1,i=null,o=null,u=function(){if(null==o||o.unsubscribe(),o=null,r){r=!1;var n=i;i=null,e.next(n)}};t.subscribe(new V(e,(function(t){null==o||o.unsubscribe(),r=!0,i=t,o=new V(e,u,_),Hn(n(t)).subscribe(o)}),(function(){u(),e.complete()}),void 0,(function(){i=o=null})))}))}function Le(n,t){return void 0===t&&(t=wn),D((function(e,r){var i=null,o=null,u=null,c=function(){if(i){i.unsubscribe(),i=null;var n=o;o=null,r.next(n)}};function s(){var e=u+n,o=t.now();if(o<e)return i=this.schedule(void 0,e-o),void r.add(i);c()}e.subscribe(new V(r,(function(e){o=e,u=t.now(),i||(i=t.schedule(s,n),r.add(i))}),(function(){c(),r.complete()}),void 0,(function(){o=i=null})))}))}function We(n){return D((function(t,e){var r=!1;t.subscribe(new V(e,(function(n){r=!0,e.next(n)}),(function(){r||e.next(n),e.complete()})))}))}function Re(n){return n<=0?function(){return Pn}:D((function(t,e){var r=0;t.subscribe(new V(e,(function(t){++r<=n&&(e.next(t),n<=r&&e.complete())})))}))}function ze(){return D((function(n,t){n.subscribe(new V(t,_))}))}function De(n){return bt((function(){return n}))}function Ve(n,t){return t?function(e){return Ft(t.pipe(Re(1),ze()),e.pipe(Ve(n)))}:Ct((function(t,e){return n(t,e).pipe(Re(1),De(t))}))}function Be(n,t){void 0===t&&(t=wn);var e=Gt(n,t);return Ve((function(){return e}))}function Ue(){return D((function(n,t){n.subscribe(new V(t,(function(n){return it(n,t)})))}))}function $e(n,t){return D((function(e,r){var i=new Set;e.subscribe(new V(r,(function(t){var e=n?n(t):t;i.has(e)||(i.add(e),r.next(t))}))),null==t||t.subscribe(new V(r,(function(){return i.clear()}),_))}))}function He(n,t){return void 0===t&&(t=F),n=null!=n?n:Ye,D((function(e,r){var i,o=!0;e.subscribe(new V(r,(function(e){var u=t(e);!o&&n(i,u)||(o=!1,i=u,r.next(e))})))}))}function Ye(n,t){return n===t}function Ge(n,t){return He((function(e,r){return t?t(e[n],r[n]):e[n]===r[n]}))}function Ke(n){return void 0===n&&(n=Xe),D((function(t,e){var r=!1;t.subscribe(new V(e,(function(n){r=!0,e.next(n)}),(function(){return r?e.complete():e.error(n())})))}))}function Xe(){return new ut}function Ze(n,t){if(n<0)throw new lt;var e=arguments.length>=2;return function(r){return r.pipe(oe((function(t,e){return e===n})),Re(1),e?We(t):Ke((function(){return new lt})))}}function Je(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return function(t){return Ft(t,tt.apply(void 0,s([],c(n))))}}function Qe(n,t){return D((function(e,r){var i=0;e.subscribe(new V(r,(function(o){n.call(t,o,i++,e)||(r.next(!1),r.complete())}),(function(){r.next(!0),r.complete()})))}))}function nr(){return D((function(n,t){var e=!1,r=null;n.subscribe(new V(t,(function(n){r||(r=Hn(n).subscribe(new V(t,void 0,(function(){r=null,e&&t.complete()}))))}),(function(){e=!0,!r&&t.complete()})))}))}var tr=nr;function er(n,t){return t?function(e){return e.pipe(er((function(e,r){return Hn(n(e,r)).pipe(bt((function(n,i){return t(e,n,r,i)})))})))}:D((function(t,e){var r=0,i=null,o=!1;t.subscribe(new V(e,(function(t){i||(i=new V(e,void 0,(function(){i=null,o&&e.complete()})),Hn(n(t,r++)).subscribe(i))}),(function(){o=!0,!i&&e.complete()})))}))}function rr(n,t,e){return void 0===t&&(t=1/0),t=(t||0)<1?1/0:t,D((function(r,i){return jt(r,i,n,t,void 0,!0,e)}))}function ir(n){return D((function(t,e){try{t.subscribe(e)}finally{e.add(n)}}))}function or(n,t){return D(ur(n,t,"value"))}function ur(n,t,e){var r="index"===e;return function(e,i){var o=0;e.subscribe(new V(i,(function(u){var c=o++;n.call(t,u,c,e)&&(i.next(r?c:u),i.complete())}),(function(){i.next(r?-1:void 0),i.complete()})))}}function cr(n,t){return D(ur(n,t,"index"))}function sr(n,t){var e=arguments.length>=2;return function(r){return r.pipe(n?oe((function(t,e){return n(t,e,r)})):F,Re(1),e?We(t):Ke((function(){return new ut})))}}function lr(n,t,e,r){return D((function(i,o){var u;t&&"function"!=typeof t?(e=t.duration,u=t.element,r=t.connector):u=t;var c=new Map,s=function(n){c.forEach(n),n(o)},l=function(n){return s((function(t){return t.error(n)}))},a=new ar(o,(function(t){try{var i=n(t),s=c.get(i);if(!s){c.set(i,s=r?r():new J);var f=(d=i,v=s,(p=new W((function(n){a.activeGroups++;var t=v.subscribe(n);return function(){t.unsubscribe(),0==--a.activeGroups&&a.teardownAttempted&&a.unsubscribe()}}))).key=d,p);if(o.next(f),e){var h=new V(s,(function(){s.complete(),null==h||h.unsubscribe()}),void 0,void 0,(function(){return c.delete(i)}));a.add(Hn(e(f)).subscribe(h))}}s.next(u?u(t):t)}catch(n){l(n)}var d,v,p}),(function(){return s((function(n){return n.complete()}))}),l,(function(){return c.clear()}));i.subscribe(a)}))}var ar=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.activeGroups=0,t.teardownAttempted=!1,t}return i(t,n),t.prototype.unsubscribe=function(){this.teardownAttempted=!0,0===this.activeGroups&&n.prototype.unsubscribe.call(this)},t}(V);function fr(){return D((function(n,t){n.subscribe(new V(t,(function(){t.next(!1),t.complete()}),(function(){t.next(!0),t.complete()})))}))}function hr(n){return n<=0?function(){return Pn}:D((function(t,e){var r=[];t.subscribe(new V(e,(function(t){r.push(t),n<r.length&&r.shift()}),(function(){var n,t;try{for(var i=u(r),o=i.next();!o.done;o=i.next()){var c=o.value;e.next(c)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(n)throw n.error}}e.complete()}),void 0,(function(){r=null})))}))}function dr(n,t){var e=arguments.length>=2;return function(r){return r.pipe(n?oe((function(t,e){return n(t,e,r)})):F,hr(1),e?We(t):Ke((function(){return new ut})))}}function vr(){return D((function(n,t){n.subscribe(new V(t,(function(n){t.next(rt.createNext(n))}),(function(){t.next(rt.createComplete()),t.complete()}),(function(n){t.next(rt.createError(n)),t.complete()})))}))}function pr(n){return ge(f(n)?function(t,e){return n(t,e)>0?t:e}:function(n,t){return n>t?n:t})}var br=Ct;function yr(n,t,e){return void 0===e&&(e=1/0),f(t)?Ct((function(){return n}),t,e):("number"==typeof t&&(e=t),Ct((function(){return n}),e))}function mr(n,t,e){return void 0===e&&(e=1/0),D((function(r,i){var o=t;return jt(r,i,(function(t,e){return n(o,t,e)}),e,(function(n){o=n}),!1,void 0,(function(){return o=null}))}))}function wr(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=Nn(n),r=Fn(n,1/0);return n=ne(n),D((function(t,i){Mt(r)(nt(s([t],c(n)),e)).subscribe(i)}))}function xr(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return wr.apply(void 0,s([],c(n)))}function gr(n){return ge(f(n)?function(t,e){return n(t,e)<0?t:e}:function(n,t){return n<t?n:t})}function _r(n,t){var e=f(n)?n:function(){return n};return f(t)?Ne(t,{connector:e}):function(n){return new U(n,e)}}function Er(){return D((function(n,t){var e,r=!1;n.subscribe(new V(t,(function(n){var i=e;e=n,r&&t.next([i,n]),r=!0})))}))}function Sr(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n.length;if(0===e)throw new Error("list of properties cannot be empty.");return bt((function(t){for(var r=t,i=0;i<e;i++){var o=null==r?void 0:r[n[i]];if(void 0===o)return;r=o}return r}))}function Ar(n){return n?function(t){return Ne(n)(t)}:function(n){return _r(new J)(n)}}function Tr(n){return function(t){var e=new nn(n);return new U(t,(function(){return e}))}}function Ir(){return function(n){var t=new rn;return new U(n,(function(){return t}))}}function kr(n,t,e,r){e&&!f(e)&&(r=e);var i=f(e)?e:void 0;return function(e){return _r(new en(n,t,r),i)(e)}}function Pr(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return n.length?D((function(t,e){se(s([t],c(n)))(e)})):F}function Or(n){var t,e,r=1/0;return null!=n&&("object"==typeof n?(t=n.count,r=void 0===t?1/0:t,e=n.delay):r=n),r<=0?function(){return Pn}:D((function(n,t){var i,o=0,u=function(){if(null==i||i.unsubscribe(),i=null,null!=e){var n="number"==typeof e?Gt(e):Hn(e(o)),r=new V(t,(function(){r.unsubscribe(),c()}));n.subscribe(r)}else c()},c=function(){var e=!1;i=n.subscribe(new V(t,void 0,(function(){++o<r?i?u():e=!0:t.complete()}))),e&&u()};c()}))}function jr(n){return D((function(t,e){var r,i,o=!1,u=!1,c=!1,s=function(){return c&&u&&(e.complete(),!0)},l=function(){c=!1,r=t.subscribe(new V(e,void 0,(function(){c=!0,!s()&&(i||(i=new J,n(i).subscribe(new V(e,(function(){r?l():o=!0}),(function(){u=!0,s()})))),i).next()}))),o&&(r.unsubscribe(),r=null,o=!1,l())};l()}))}function Cr(n){var t;void 0===n&&(n=1/0);var e=(t=n&&"object"==typeof n?n:{count:n}).count,r=void 0===e?1/0:e,i=t.delay,o=t.resetOnSuccess,u=void 0!==o&&o;return r<=0?F:D((function(n,t){var e,o=0,c=function(){var s=!1;e=n.subscribe(new V(t,(function(n){u&&(o=0),t.next(n)}),void 0,(function(n){if(o++<r){var u=function(){e?(e.unsubscribe(),e=null,c()):s=!0};if(null!=i){var l="number"==typeof i?Gt(i):Hn(i(n,o)),a=new V(t,(function(){a.unsubscribe(),u()}),(function(){t.complete()}));l.subscribe(a)}else u()}else t.error(n)}))),s&&(e.unsubscribe(),e=null,c())};c()}))}function Mr(n){return D((function(t,e){var r,i,o=!1,u=function(){r=t.subscribe(new V(e,void 0,void 0,(function(t){i||(i=new J,n(i).subscribe(new V(e,(function(){return r?u():o=!0})))),i&&i.next(t)}))),o&&(r.unsubscribe(),r=null,o=!1,u())};u()}))}function Nr(n){return D((function(t,e){var r=!1,i=null;t.subscribe(new V(e,(function(n){r=!0,i=n}))),n.subscribe(new V(e,(function(){if(r){r=!1;var n=i;i=null,e.next(n)}}),_))}))}function Fr(n,t){return void 0===t&&(t=wn),Nr(Kt(n,t))}function qr(n,t){return D(xe(n,t,arguments.length>=2,!0))}function Lr(n,t){return void 0===t&&(t=function(n,t){return n===t}),D((function(e,r){var i={buffer:[],complete:!1},o={buffer:[],complete:!1},u=function(n){r.next(n),r.complete()},c=function(n,e){var i=new V(r,(function(r){var i=e.buffer,o=e.complete;0===i.length?o?u(!1):n.buffer.push(r):!t(r,i.shift())&&u(!1)}),(function(){n.complete=!0;var t=e.complete,r=e.buffer;t&&u(0===r.length),null==i||i.unsubscribe()}));return i};e.subscribe(c(i,o)),n.subscribe(c(o,i))}))}function Wr(n){void 0===n&&(n={});var t=n.connector,e=void 0===t?function(){return new J}:t,r=n.resetOnError,i=void 0===r||r,o=n.resetOnComplete,u=void 0===o||o,c=n.resetOnRefCountZero,s=void 0===c||c;return function(n){var t=null,r=null,o=null,c=0,l=!1,a=!1,f=function(){null==r||r.unsubscribe(),r=null},h=function(){f(),t=o=null,l=a=!1},d=function(){var n=t;h(),null==n||n.unsubscribe()};return D((function(n,v){c++,a||l||f();var p=o=null!=o?o:e();v.add((function(){0!=--c||a||l||(r=Rr(d,s))})),p.subscribe(v),t||(t=new P({next:function(n){return p.next(n)},error:function(n){a=!0,f(),r=Rr(h,i,n),p.error(n)},complete:function(){l=!0,f(),r=Rr(h,u),p.complete()}}),nt(n).subscribe(t))}))(n)}}function Rr(n,t){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];return!0===t?(n(),null):!1===t?null:t.apply(void 0,s([],c(e))).pipe(Re(1)).subscribe((function(){return n()}))}function zr(n,t,e){var r,i,o,u=!1;return n&&"object"==typeof n?(o=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,t=null!==(i=n.windowTime)&&void 0!==i?i:1/0,u=!!n.refCount,e=n.scheduler):o=null!=n?n:1/0,Wr({connector:function(){return new en(o,t,e)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}function Dr(n){return D((function(t,e){var r,i=!1,o=!1,u=0;t.subscribe(new V(e,(function(c){o=!0,n&&!n(c,u++,t)||(i&&e.error(new ft("Too many matching values")),i=!0,r=c)}),(function(){i?(e.next(r),e.complete()):e.error(o?new at("No matching values"):new ut)})))}))}function Vr(n){return oe((function(t,e){return n<=e}))}function Br(n){return n<=0?F:D((function(t,e){var r=new Array(n),i=0;return t.subscribe(new V(e,(function(t){var o=i++;if(o<n)r[o]=t;else{var u=o%n,c=r[u];r[u]=t,e.next(c)}}))),function(){r=null}}))}function Ur(n){return D((function(t,e){var r=!1,i=new V(e,(function(){null==i||i.unsubscribe(),r=!0}),_);Hn(n).subscribe(i),t.subscribe(new V(e,(function(n){return r&&e.next(n)})))}))}function $r(n){return D((function(t,e){var r=!1,i=0;t.subscribe(new V(e,(function(t){return(r||(r=!n(t,i++)))&&e.next(t)})))}))}function Hr(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=Nn(n);return D((function(t,r){(e?Ft(n,t,e):Ft(n,t)).subscribe(r)}))}function Yr(n,t){return D((function(e,r){var i=null,o=0,u=!1,c=function(){return u&&!i&&r.complete()};e.subscribe(new V(r,(function(e){null==i||i.unsubscribe();var u=0,s=o++;Hn(n(e,s)).subscribe(i=new V(r,(function(n){return r.next(t?t(e,n,s,u++):n)}),(function(){i=null,c()})))}),(function(){u=!0,c()})))}))}function Gr(){return Yr(F)}function Kr(n,t){return f(t)?Yr((function(){return n}),t):Yr((function(){return n}))}function Xr(n,t){return D((function(e,r){var i=t;return Yr((function(t,e){return n(i,t,e)}),(function(n,t){return i=t,t}))(e).subscribe(r),function(){i=null}}))}function Zr(n){return D((function(t,e){Hn(n).subscribe(new V(e,(function(){return e.complete()}),_)),!e.closed&&t.subscribe(e)}))}function Jr(n,t){return void 0===t&&(t=!1),D((function(e,r){var i=0;e.subscribe(new V(r,(function(e){var o=n(e,i++);(o||t)&&r.next(e),!o&&r.complete()})))}))}function Qr(n,t,e){var r=f(n)||t||e?{next:n,error:t,complete:e}:n;return r?D((function(n,t){var e;null===(e=r.subscribe)||void 0===e||e.call(r);var i=!0;n.subscribe(new V(t,(function(n){var e;null===(e=r.next)||void 0===e||e.call(r,n),t.next(n)}),(function(){var n;i=!1,null===(n=r.complete)||void 0===n||n.call(r),t.complete()}),(function(n){var e;i=!1,null===(e=r.error)||void 0===e||e.call(r,n),t.error(n)}),(function(){var n,t;i&&(null===(n=r.unsubscribe)||void 0===n||n.call(r)),null===(t=r.finalize)||void 0===t||t.call(r)})))})):F}var ni={leading:!0,trailing:!1};function ti(n,t){return void 0===t&&(t=ni),D((function(e,r){var i=t.leading,o=t.trailing,u=!1,c=null,s=null,l=!1,a=function(){null==s||s.unsubscribe(),s=null,o&&(d(),l&&r.complete())},f=function(){s=null,l&&r.complete()},h=function(t){return s=Hn(n(t)).subscribe(new V(r,a,f))},d=function(){if(u){u=!1;var n=c;c=null,r.next(n),!l&&h(n)}};e.subscribe(new V(r,(function(n){u=!0,c=n,(!s||s.closed)&&(i?d():h(n))}),(function(){l=!0,(!(o&&u&&s)||s.closed)&&r.complete()})))}))}function ei(n,t,e){void 0===t&&(t=wn),void 0===e&&(e=ni);var r=Gt(n,t);return ti((function(){return r}),e)}function ri(n){return void 0===n&&(n=xn),function(t){return qt((function(){return t.pipe(qr((function(t,e){var r=t.current;return{value:e,current:n.now(),last:r}}),{current:n.now(),value:void 0,last:void 0}),bt((function(n){var t=n.current,e=n.last,r=n.value;return new ii(r,t-e)})))}))}}var ii=function(n,t){this.value=n,this.interval=t};function oi(n,t,e){var r,i,o;if(e=null!=e?e:xn,ht(n)?r=n:"number"==typeof n&&(i=n),!t)throw new TypeError("No observable provided to switch to");if(o=function(){return t},null==r&&null==i)throw new TypeError("No timeout provided.");return vt({first:r,each:i,scheduler:e,with:o})}function ui(n){return void 0===n&&(n=tn),bt((function(t){return{value:t,timestamp:n.now()}}))}function ci(n){return D((function(t,e){var r=new J;e.next(r.asObservable());var i=function(n){r.error(n),e.error(n)};return t.subscribe(new V(e,(function(n){return null==r?void 0:r.next(n)}),(function(){r.complete(),e.complete()}),i)),n.subscribe(new V(e,(function(){r.complete(),e.next(r=new J)}),_,i)),function(){null==r||r.unsubscribe(),r=null}}))}function si(n,t){void 0===t&&(t=0);var e=t>0?t:n;return D((function(t,r){var i=[new J],o=0;r.next(i[0].asObservable()),t.subscribe(new V(r,(function(t){var c,s;try{for(var l=u(i),a=l.next();!a.done;a=l.next())a.value.next(t)}catch(n){c={error:n}}finally{try{a&&!a.done&&(s=l.return)&&s.call(l)}finally{if(c)throw c.error}}var f=o-n+1;if(f>=0&&f%e==0&&i.shift().complete(),++o%e==0){var h=new J;i.push(h),r.next(h.asObservable())}}),(function(){for(;i.length>0;)i.shift().complete();r.complete()}),(function(n){for(;i.length>0;)i.shift().error(n);r.error(n)}),(function(){i=null})))}))}function li(n){for(var t,e,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=null!==(t=Nn(r))&&void 0!==t?t:wn,u=null!==(e=r[0])&&void 0!==e?e:null,c=r[1]||1/0;return D((function(t,e){var r=[],i=!1,s=function(n){var t=n.window,e=n.subs;t.complete(),e.unsubscribe(),v(r,n),i&&l()},l=function(){if(r){var t=new p;e.add(t);var i=new J,u={window:i,subs:t,seen:0};r.push(u),e.next(i.asObservable()),Gn(t,o,(function(){return s(u)}),n)}};null!==u&&u>=0?Gn(e,o,l,u,!0):i=!0,l();var a=function(n){return r.slice().forEach(n)},f=function(n){a((function(t){var e=t.window;return n(e)})),n(e),e.unsubscribe()};return t.subscribe(new V(e,(function(n){a((function(t){t.window.next(n),c<=++t.seen&&s(t)}))}),(function(){return f((function(n){return n.complete()}))}),(function(n){return f((function(t){return t.error(n)}))}))),function(){r=null}}))}function ai(n,t){return D((function(e,r){var i=[],o=function(n){for(;0<i.length;)i.shift().error(n);r.error(n)};Hn(n).subscribe(new V(r,(function(n){var e=new J;i.push(e);var u,c=new p;try{u=Hn(t(n))}catch(n){return void o(n)}r.next(e.asObservable()),c.add(u.subscribe(new V(r,(function(){v(i,e),e.complete(),c.unsubscribe()}),_,o)))}),_)),e.subscribe(new V(r,(function(n){var t,e,r=i.slice();try{for(var o=u(r),c=o.next();!c.done;c=o.next())c.value.next(n)}catch(n){t={error:n}}finally{try{c&&!c.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}}),(function(){for(;0<i.length;)i.shift().complete();r.complete()}),o,(function(){for(;0<i.length;)i.shift().unsubscribe()})))}))}function fi(n){return D((function(t,e){var r,i,o=function(n){r.error(n),e.error(n)},u=function(){var t;null==i||i.unsubscribe(),null==r||r.complete(),r=new J,e.next(r.asObservable());try{t=Hn(n())}catch(n){return void o(n)}t.subscribe(i=new V(e,u,u,o))};u(),t.subscribe(new V(e,(function(n){return r.next(n)}),(function(){r.complete(),e.complete()}),o,(function(){null==i||i.unsubscribe(),r=null})))}))}function hi(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=Mn(n);return D((function(t,r){for(var i=n.length,o=new Array(i),u=n.map((function(){return!1})),l=!1,a=function(t){Hn(n[t]).subscribe(new V(r,(function(n){o[t]=n,l||u[t]||(u[t]=!0,(l=u.every(F))&&(u=null))}),_))},f=0;f<i;f++)a(f);t.subscribe(new V(r,(function(n){if(l){var t=s([n],c(o));r.next(e?e.apply(void 0,s([],c(t))):t)}})))}))}function di(n){return Se(fe,n)}function vi(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return D((function(t,e){fe.apply(void 0,s([t],c(n))).subscribe(e)}))}function pi(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return vi.apply(void 0,s([],c(n)))}},782:(n,t,e)=>{t.__esModule=!0;var r=e(698),i=e(865),o=e(25),u=function(){function n(n,t){var e=this;this.disabled$=new r.Subject,this.points=[],this.disabled=!1,this.canvas=n,this.points$=new r.Observable((function(i){e.disabled||((0,r.fromEvent)(n,"click").subscribe((function(n){e.clickHandler(n),i.next(e.points)})),(0,r.fromEvent)(t,"click").subscribe((function(){e.generateRandom(),i.next(e.points)})))})),this.disabled$.subscribe((function(n){e.disabled=n,t.disabled=n}))}return n.prototype.clickHandler=function(n){var t=n.offsetX,e=n.offsetY,r=this.points.filter((function(n){return i.default.getDistanceSquared(n,t,e)>100}));r.length!==this.points.length?this.points=r:this.points.push(new o.default(t,e))},n.prototype.generateRandom=function(){this.points=[];for(var n=50*Math.random();n>0;n-=1)this.points.push(new o.default(Math.trunc((this.canvas.width-20)*Math.random()+10),Math.trunc((this.canvas.height-20)*Math.random()+10)))},n}();t.default=u},841:(n,t)=>{t.__esModule=!0;var e=function(){function n(n,t){if(this.startPoint=n,this.endPoint=t,n.x===t.y)return n.y<t.y?void(this.coefficients={a:-1,b:0,c:n.x}):void(this.coefficients={a:-1,b:0,c:-n.x});var e=(n.y-t.y)/(n.x-t.x),r=-e*t.x+t.y;n.x<t.x?this.coefficients={a:-e,b:1,c:-r}:this.coefficients={a:e,b:-1,c:r}}return n.prototype.draw=function(n){n.beginPath(),n.moveTo(this.startPoint.x,this.startPoint.y),n.lineTo(this.endPoint.x,this.endPoint.y),n.stroke()},n.draw=function(n,t,e){n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke()},n}();t.default=e},865:(n,t,e)=>{t.__esModule=!0;var r=e(216),i=function(){function n(){}return n.score=function(n,t){var e=t.coefficients;return e.a*n.x+e.b*n.y+e.c},n.dotProduct=function(n,t){return n.x*t.x+n.y*t.y},n.getAngle=function(n,t,e){var i=new r.default(n,t),o=new r.default(e,t),u=this.dotProduct(i,o),c=this.dotProduct(i,i),s=this.dotProduct(o,o);return Math.acos(u/Math.sqrt(c*s))},n.getDistance=function(n,t){return this.score(n,t)/Math.sqrt(Math.pow(t.coefficients.a,2)+Math.pow(t.coefficients.b,2))},n.getDistanceSquared=function(n,t,e){var r=n.x-t,i=n.y-e;return r*r+i*i},n}();t.default=i},25:(n,t)=>{t.__esModule=!0;var e=function(){function n(n,t){this.x=n,this.y=t}return n.prototype.draw=function(n){n.beginPath(),n.arc(this.x,this.y,2.5,0,2*Math.PI),n.fill()},n}();t.default=e},682:function(n,t,e){var r=this&&this.__spreadArray||function(n,t,e){if(e||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return n.concat(r||Array.prototype.slice.call(t))};t.__esModule=!0;var i=e(698),o=e(841),u=e(865),c=function(){function n(n,t,e,r,i){var o=this;this.delayMs=500,this.hull=[],this.ctx=t,t.lineWidth=2,this.width=e,this.height=r,this.disable$=i,n.subscribe((function(n){o.findHull(n),o.points=n}))}return n.prototype.findHull=function(n){if(this.points=n,this.states=[],n.length<4)this.hull=n;else{var t=r([],n,!0).sort((function(n,t){return n.x-t.x})),e=t[0],i=t[t.length-1],o=[e],u=this.step(i,e,t,o);o.push(i);var c=this.step(e,i,t,o);this.hull=r(r(r([e],u,!0),[i],!1),c,!0)}this.drawHull()},n.prototype.animate=function(){var n=this;this.disable$&&this.disable$.next(!0),this.first=!0,this.states&&(0,i.from)(r(r([],this.states,!0),[void 0],!1)).pipe((0,i.concatMap)((function(t){return n.first?(0,i.of)(t):(0,i.of)(t).pipe((0,i.delay)(500))}))).subscribe({next:this.drawState.bind(this),complete:function(){n.drawHull(),n.disable$&&n.disable$.next(!1)}})},n.prototype.drawHull=function(){var n=this;this.ctx.fillStyle="#333",this.ctx.strokeStyle="#2ca1db",this.ctx.clearRect(0,0,this.width,this.height),this.hull.forEach((function(t){return t.draw(n.ctx)}));for(var t=0;t<this.hull.length-1;t+=1)o.default.draw(this.ctx,this.hull[t],this.hull[t+1]);o.default.draw(this.ctx,this.hull[0],this.hull[this.hull.length-1]),this.points.forEach((function(t){return t.draw(n.ctx)}))},n.prototype.drawState=function(n){var t=this;n&&(this.first=!1,this.ctx.clearRect(0,0,this.width,this.height),n.hull.length&&(this.ctx.strokeStyle="#2ca1db",this.ctx.beginPath(),this.ctx.moveTo(n.hull[0].x,n.hull[0].y),n.hull.forEach((function(n){return t.ctx.lineTo(n.x,n.y)})),this.ctx.closePath(),this.ctx.stroke()),this.ctx.strokeStyle="#dbd516",n.currentLine.draw(this.ctx),this.ctx.fillStyle="#333",this.points.forEach((function(n){return n.draw(t.ctx)})),this.ctx.fillStyle="#169adb",n.currentPoints.forEach((function(n){return n.draw(t.ctx)})),this.ctx.fillStyle="#db4251",n.maxPoint.draw(this.ctx))},n.prototype.step=function(n,t,e,i){if(!e.length)return[];var c=new o.default(n,t),s=-1,l=e.filter((function(e){var r=u.default.getDistance(e,c);return s=Math.max(r,s),!(e===n||e===t)&&r>0}));if(s<=0||!l.length)return[];var a=l.filter((function(n){return u.default.getDistance(n,c)===s})),f=2*-Math.PI,h=a[0];a.forEach((function(e){var r=u.default.getAngle(e,n,t);r>f&&(f=r,h=e)}));var d=i.indexOf(n),v=i.indexOf(t);d>=0&&d+1<i.length?i.splice(d+1,0,h):v>=0?i.splice(v,0,h):i.push(h),this.states.push({currentLine:c,maxPoint:h,currentPoints:l,hull:r([],i,!0)});var p=this.step(h,t,l,i),b=this.step(n,h,l,i);return r(r(r([],p,!0),[h],!1),b,!0)},n}();t.default=c},216:(n,t,e)=>{t.__esModule=!0;var r=e(25);t.default=function(n,t){if(n instanceof r.default&&t instanceof r.default)return this.x=t.x-n.x,void(this.y=t.y-n.y);if("number"==typeof n&&"number"==typeof t)return this.x=n,void(this.y=t);throw new Error}}},t={};function e(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return n[r].call(o.exports,o,o.exports,e),o.exports}e.d=(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},e.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),e.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},(()=>{var n=e(698),t=e(782),r=e(682),i=document.getElementsByTagName("canvas").namedItem("canvas"),o=document.getElementsByTagName("button").namedItem("random-button"),u=i.getContext("2d"),c=new t.default(i,o),s=new r.default(c.points$,u,i.width,i.height,c.disabled$),l=!1,a=document.getElementsByTagName("button").namedItem("animate-button"),f=document.getElementsByTagName("button").namedItem("issue-button");c.disabled$.subscribe((function(n){l=n,a.disabled=n,f.disabled=n})),(0,n.fromEvent)(a,"click").subscribe((function(){l||s.animate()}));var h=[];c.points$.subscribe((function(n){return h=n}));var d=document.getElementById("issue-popup"),v=d.getElementsByClassName("overlay")[0],p=d.getElementsByTagName("a")[0],b=document.getElementById("points-output");(0,n.fromEvent)(f,"click").subscribe((function(){if(!l){var n="Points: [".concat(h.map((function(n){return"(".concat(n.x,", ").concat(n.y,")")})).join(", "),"]");b.value=n,d.classList.add("active"),setTimeout((function(){return d.classList.add("show")}),200)}}));var y=function(){d.classList.remove("show"),setTimeout((function(){return d.classList.remove("active")}),200)};(0,n.fromEvent)(v,"click").subscribe(y),(0,n.fromEvent)(p,"click").subscribe(y)})()})();